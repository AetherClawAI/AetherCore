#!/bin/bash
# ğŸ¯ è§£æ±ºGitHub Tokenèªè­‰å•é¡Œ
# GitHubä¸å†æ”¯æŒå¯†ç¢¼ï¼Œéœ€è¦ä½¿ç”¨Personal Access Token

echo "============================================================"
echo "ğŸ¯ è§£æ±ºGitHubèªè­‰å•é¡Œ"
echo "éœ€è¦å‰µå»ºPersonal Access Token"
echo "============================================================"

echo ""
echo "âŒ å•é¡Œ: GitHubä¸å†æ”¯æŒå¯†ç¢¼èªè­‰"
echo "âœ… è§£æ±º: ä½¿ç”¨Personal Access Token (PAT)"
echo ""
echo "ğŸ“‹ ä½ çš„ä¿¡æ¯:"
echo "ğŸ‘¤ GitHubç”¨æˆ¶å: AetherClawAI"
echo "ğŸ“ å€‰åº«: AetherCore"
echo "ğŸ”— URL: https://github.com/AetherClawAI/AetherCore"

echo ""
echo "============================================================"
echo "ğŸš€ ç¬¬ä¸€æ­¥ï¼šå‰µå»ºPersonal Access Token"
echo "============================================================"
echo ""
echo "è«‹åœ¨ç€è¦½å™¨ä¸­å®Œæˆ:"
echo ""
echo "1. è¨ªå•: https://github.com/settings/tokens"
echo "   (éœ€è¦ç™»éŒ„ AetherClawAI è³¬è™Ÿ)"
echo ""
echo "2. é»æ“Š 'Generate new token' â†’ 'Generate new token (classic)'"
echo ""
echo "3. å¡«å¯«Tokenä¿¡æ¯:"
echo "   ----------------------------------------"
echo "   Note: AetherCore Push Token"
echo "   Expiration: 90 days (æ¨è–¦)"
echo "   Select scopes: å‹¾é¸ 'repo' (å…¨é¸)"
echo "   ----------------------------------------"
echo ""
echo "4. é»æ“Š 'Generate token'"
echo ""
echo "5. é‡è¦ï¼šç«‹å³è¤‡è£½Tokenï¼"
echo "   âš ï¸  Tokenåªé¡¯ç¤ºä¸€æ¬¡ï¼Œè«‹ä¿å­˜åˆ°å®‰å…¨çš„åœ°æ–¹"
echo "   ğŸ’¡ å»ºè­°è¤‡è£½åˆ°æ–‡æœ¬æ–‡ä»¶æš«å­˜"
echo ""
read -p "âœ… è«‹ç¢ºèªå·²å‰µå»ºä¸¦è¤‡è£½Tokenï¼Œç„¶å¾ŒæŒ‰ Enter ç¹¼çºŒ..."

echo ""
echo "============================================================"
echo "ğŸš€ ç¬¬äºŒæ­¥ï¼šä½¿ç”¨Tokenæ¨é€"
echo "============================================================"
echo ""
echo "ç¾åœ¨å›åˆ°çµ‚ç«¯ï¼ŒåŸ·è¡Œä»¥ä¸‹å‘½ä»¤:"
echo ""
echo "1. æ¸…é™¤èˆŠçš„èªè­‰ç·©å­˜:"
echo "   git config --global --unset credential.helper"
echo ""
echo "2. åŸ·è¡Œæ¨é€å‘½ä»¤:"
echo "   git push -u origin main"
echo ""
echo "3. ç•¶æç¤ºè¼¸å…¥æ™‚:"
echo "   ----------------------------------------"
echo "   Username for 'https://github.com': AetherClawAI"
echo "   Password for 'https://AetherClawAI@github.com':"
echo "   [åœ¨é€™è£¡è²¼ä¸Šä½ çš„Tokenï¼Œç„¶å¾ŒæŒ‰Enter]"
echo "   ----------------------------------------"
echo ""
echo "ğŸ’¡ æç¤º:"
echo "- Tokenè¼¸å…¥æ™‚ä¸æœƒé¡¯ç¤ºå­—ç¬¦ï¼Œé€™æ˜¯æ­£å¸¸çš„"
echo "- ç¢ºä¿è¤‡è£½å®Œæ•´çš„Tokenï¼ˆå¾ˆé•·çš„ä¸€ä¸²å­—ç¬¦ï¼‰"
echo "- ä¸è¦æœ‰ç©ºæ ¼æˆ–æ›è¡Œ"
echo ""

echo ""
echo "============================================================"
echo "ğŸš€ ç¬¬ä¸‰æ­¥ï¼šæ¸¬è©¦æ¨é€"
echo "============================================================"
echo ""
echo "ç¾åœ¨å˜—è©¦æ¨é€ï¼Œè¤‡è£½ä¸¦åŸ·è¡Œ:"
echo "git push -u origin main"
echo ""
echo "æˆ–è€…æˆ‘ç‚ºä½ åŸ·è¡Œæ¸¬è©¦:"
read -p "è¦ç¾åœ¨æ¸¬è©¦æ¨é€å—ï¼Ÿ(y/n): " -n 1 -r
echo ""
if [[ $REPLY =~ ^[Yy]$ ]]; then
    echo "æ­£åœ¨æ¸¬è©¦æ¨é€..."
    if git push -u origin main; then
        echo ""
        echo "============================================================"
        echo "ğŸ‰ æ¨é€æˆåŠŸï¼"
        echo "============================================================"
        echo ""
        echo "âœ… AetherCore v3.3.0 å·²æˆåŠŸç™¼å¸ƒï¼"
        echo "ğŸ‘‰ è¨ªå•: https://github.com/AetherClawAI/AetherCore"
    else
        echo ""
        echo "============================================================"
        echo "âŒ æ¨é€å¤±æ•—ï¼Œè«‹æª¢æŸ¥:"
        echo "============================================================"
        echo ""
        echo "1. Tokenæ˜¯å¦æ­£ç¢ºï¼Ÿ"
        echo "2. æ˜¯å¦è¤‡è£½äº†å®Œæ•´çš„Tokenï¼Ÿ"
        echo "3. ç¶²çµ¡é€£æ¥æ˜¯å¦æ­£å¸¸ï¼Ÿ"
        echo ""
        echo "ğŸ’¡ é‡è©¦: git push -u origin main"
    fi
fi

echo ""
echo "============================================================"
echo "ğŸª Tokenç®¡ç†æç¤º"
echo "============================================================"
echo ""
echo "ğŸ” å¦‚ä½•ç®¡ç†Token:"
echo "1. ä¿å­˜Tokenåˆ°å®‰å…¨çš„åœ°æ–¹"
echo "2. ä¸è¦åˆ†äº«çµ¦ä»–äºº"
echo "3. å¯ä»¥åœ¨ https://github.com/settings/tokens æŸ¥çœ‹å’Œç®¡ç†"
echo "4. å¯ä»¥éš¨æ™‚æ’¤éŠ·èˆŠçš„Token"
echo ""
echo "ğŸ’¾ ä¿å­˜Tokenåˆ°Gité…ç½®ï¼ˆå¯é¸ï¼‰:"
echo "git config --global credential.helper store"
echo "# ç„¶å¾ŒåŸ·è¡Œä¸€æ¬¡ git pushï¼Œè¼¸å…¥Token"
echo "# ä»¥å¾Œå°±ä¸éœ€è¦å†è¼¸å…¥äº†"
echo ""
echo "ğŸ”„ å¦‚æœTokenéæœŸ:"
echo "1. å‰µå»ºæ–°çš„Token"
echo "2. æ›´æ–°Gité…ç½®æˆ–é‡æ–°è¼¸å…¥"
echo ""

echo ""
echo "============================================================"
echo "ğŸ“ éœ€è¦æ›´å¤šå¹«åŠ©ï¼Ÿ"
echo "============================================================"
echo ""
echo "å¦‚æœé‚„æœ‰å•é¡Œ:"
echo "1. è¨ªå•: https://docs.github.com/en/authentication"
echo "2. æŸ¥çœ‹GitHubå¹«åŠ©æ–‡æª”"
echo "3. å¤œå¸‚æ™ºæ…§é«”éš¨æ™‚ç‚ºä½ æä¾›å¹«åŠ©ï¼"
echo ""
echo "ğŸ˜ˆğŸ¾âš›ï¸âœ¨ å¤œå¸‚æ™ºæ…§é«”ï¼Œé™ªä½ è§£æ±ºæ¯ä¸€å€‹å•é¡Œï¼"